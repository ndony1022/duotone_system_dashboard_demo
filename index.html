<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>S.com System Map</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>
<link rel="stylesheet" href="css/styles.css"/>

</head>
<body>
<div class="container">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="logo"><img src="assets/logo.svg" alt="logo" style="height:24px;vertical-align:middle;margin-right:8px;"></div>
    <div class="nav-section">
      <div class="nav-title">메뉴</div>
      <div class="nav-item active" data-page="sitemap"><i class="fa-solid fa-diagram-project"></i> 사이트맵</div>
      <div class="nav-item" data-page="dashboard"><i class="fa-solid fa-gauge-high"></i> 대시보드</div>
      <div class="nav-item" data-page="analytics"><i class="fa-solid fa-chart-line"></i> 성능 분석</div>
      <div class="nav-item" data-page="content"><i class="fa-solid fa-list-check"></i> 점검 항목</div>
    </div>
  </aside>

  <!-- Main -->
  <main class="main-content">
    <section class="page active" id="sitemap">
      <div class="header">
        <div style="display:flex;align-items:center;gap:8px">
          <button class="btn" id="btnSidebarToggle" title="사이드바 접기/펴기"><i class="fa-solid fa-angles-left"></i></button>
          <div class="page-title">Site Map</div>
        </div>
        <div>
          <button class="btn" id="btnSave"><i class="fa-solid fa-save"></i> 저장</button>
          <button class="btn" id="btnReset"><i class="fa-solid fa-undo"></i> 초기화</button>
          <button class="btn primary" id="btnReload"><i class="fa-solid fa-rotate"></i></button>
        </div>
      </div>

      <div class="lnb">
        <div class="lnb-inner">
          <div class="lnb-group">
            <span class="lnb-title">국가 선택</span>
            <div class="lnb-items">
              <div class="pill on" data-locale="uk">UK</div>
              <div class="pill" data-locale="fr">FR</div>
              <div class="pill" data-locale="de">DE</div>
            </div>
          </div>
          <div class="lnb-group" style="margin-left:20px">
            <span class="lnb-title">사업부 선택</span>
            <div class="lnb-items">
              <select id="bizSelect" class="lnb-select">
                <option value="" selected>사업부 선택</option>
                <option value="mx">MX</option>
                <option value="vd">VD</option>
                <option value="da">DA</option>
                <option value="acc">Accessories</option>
              </select>
            </div>
          </div>
          <div class="lnb-group" style="margin-left:20px">
            <span class="lnb-title">뷰 선택</span>
            <div class="lnb-items">
              <div class="viewbtn on" data-view="tree"><i class="fa-solid fa-diagram-project"></i> 계층</div>
              <div class="viewbtn" data-view="list"><i class="fa-solid fa-table-list"></i> 목록</div>
                <div class="viewbtn" data-view="cej"><i class="fa-solid fa-sitemap"></i> CEJ</div>
            </div>
          </div>
        </div>
      </div>

      <div class="controls">
        <div class="control-group">
        <span class="lnb-title">레벨 선택</span>
        <div class="pill on" data-level="all">전체 레벨</div>      
        <div class="pill" data-level="0">L0</div>
        <div class="pill" data-level="1">L1</div>
        <div class="pill" data-level="2">L2</div>
        <div class="pill" data-level="3">L3</div>
        <div class="pill" data-level="4">L4</div>
        </div>

        <div class="control-group">
        <span class="lnb-title">카테고리 선택</span>
        <div class="pill on" data-cluster="all" id="allCategoryPill">전체 카테고리</div>
        <div class="pill" data-cluster="smartphones">스마트폰</div>
        <div class="pill" data-cluster="book">Book/PC</div>
        <div class="pill" data-cluster="watch">워치</div>
        <div class="pill" data-cluster="buds">버즈</div>
        <div class="pill" data-cluster="acc">액세서리</div>
        <div class="pill" data-cluster="sub">서브메뉴</div>
        </div>
        
        <div class="help-text" style="margin-top: 12px; padding: 8px; background: #f8fafc; border-radius: 6px; border: 1px solid #e2e8f0;">
          <small style="color: #64748b; font-size: 11px; line-height: 1.4;">
            💡 <strong>Shift+드래그:</strong> 수직 고정 | <strong>드래그:</strong> 레벨 변경 | <strong>ESC:</strong> 연결 모드 취소
          </small>
        </div>
        
        <div class="search-box">
          <i class="fa-solid fa-magnifying-glass"></i>
          <input id="searchInput" placeholder="페이지/카테고리 검색"/>
          <div id="searchSuggestions" class="search-suggestions"></div>
        </div>
      </div>

      <div class="visualization-area">
        <button class="btn fullscreen-btn" id="btnFull"><i class="fa-solid fa-expand"></i> 전체화면</button>
          
          <!-- 줌 컨트롤 -->
          <div class="zoom-controls">
            <button class="synapse-btn" id="btnSynapseMode" title="시냅스 연결 모드">
              <i class="fa-solid fa-link"></i>
              <span>연결</span>
            </button>
            <button class="zoom-btn" id="btnZoomOut" title="축소">−</button>
            <div class="zoom-level" id="zoomLevel" title="줌 레벨">100%</div>
            <button class="zoom-btn" id="btnZoomIn" title="확대">+</button>
          </div>

        <div class="stage" id="stage" tabindex="0" aria-label="시스템맵 캔버스">
          <!-- 밴드는 JS가 #bands에 동적 생성 -->
          <div id="bands"></div>
          <svg id="linksLayer"></svg>
          
          <div class="bottom-area" id="bottomArea">
            <span class="title">Version Info</span>
            <label class="switch">
              <input type="checkbox" id="verToggle"/>
              <span class="slider"></span>
            </label>
            <div class="ver-pills" id="verPills">
              <span class="ver-pill" data-ver="all">All</span>
              <span class="ver-pill" data-ver="v15">v1.5</span>
              <span class="ver-pill" data-ver="v10">v1.0</span>
            </div>
          </div>
        </div>

        <div id="listView" style="display:none;margin-top:12px">
          <table class="table" id="table">
            <thead><tr><th>레벨</th><th>페이지</th><th>카테고리</th><th>상태</th><th>DS</th><th>담당</th></tr></thead>
            <tbody></tbody>
          </table>
        </div>

        <div class="legend">
          <span><span class="dot" style="background:#1428a0;border-color:#0f1f73"></span>메인</span>
          <span><span class="dot" style="background:#f1f8ff;border-color:#7cc0ff"></span>카테고리</span>
          <span><span class="dot" style="background:#ffffff"></span>일반</span>
          <span><span class="dot" style="background:#e8fff7"></span>정상</span>
          <span><span class="dot" style="background:#fff7e8"></span>업데이트 필요</span>
          <span><span class="dot" style="background:#fff1f2"></span>확인 필요</span>
        </div>
      </div>

      <div class="footer">© 2025 Samsung.com System Map Demo • MX Focus • Front-only</div>
    </section>


  </main>
</div>

<!-- 상세 패널 -->
<aside class="detail-panel" id="detail">
  <div class="panel-h">
    <strong id="d-title">페이지 상세</strong>
    <div>
      <button class="btn" id="btnWire"><i class="fa-regular fa-window-maximize"></i> 와이어프레임</button>
      <button class="btn" id="btnClose"><i class="fa-solid fa-xmark"></i></button>
    </div>
  </div>
  <div class="grid">
    <div class="k">ID</div><div id="d-id">-</div>
    <div class="k">URL</div><div id="d-url">-</div>
    <div class="k">레벨</div><div id="d-level">-</div>
    <div class="k">카테고리</div><div id="d-cluster">-</div>
    <div class="k">상태</div><div id="d-status">-</div>
    <div class="k">DS</div><div id="d-ds">-</div>
    <div class="k">담당</div><div id="d-owner">-</div>
  </div>

  <div class="subttl">상하위 관계</div>
  <div class="badge-wrap" id="relNav"></div>
  
  

  <div class="subttl">컴포넌트(샘플)</div>
  <div class="badge-wrap" id="compBadges"></div>

  <div class="subttl">와이어프레임 썸네일</div>
  <div class="wf-thumb-wrap">
    <div class="wf-thumb" id="wfThumb"></div>
    <div class="wf-overlay" id="wfOverlay">
      <button class="btn-mini" onclick="triggerWfUpload(event)"><i class="fa-solid fa-upload"></i> 업로드</button>
      <button class="btn-mini" onclick="resetWfThumb(event)"><i class="fa-solid fa-rotate"></i> 초기화</button>
      <button class="btn-mini" onclick="downloadWfThumb(event)"><i class="fa-solid fa-download"></i> 저장</button>
    </div>
    <input type="file" id="wfInput" accept="image/*" style="display:none"/>
  </div>

  <div class="download-section">
    <div class="subttl">다운로드</div>
    <div class="download-buttons">
      <button class="download-btn xd" onclick="downloadFile('xd')">
        <i class="fa-solid fa-download"></i> XD
      </button>
      <button class="download-btn sketch" onclick="downloadFile('sketch')">
        <i class="fa-solid fa-download"></i> Sketch
      </button>
      <button class="download-btn zeplin" onclick="downloadFile('zeplin')">
        <i class="fa-solid fa-download"></i> Zeplin
      </button>
    </div>
  </div>
</aside>

<!-- 와이어프레임 모달 -->
<div class="modal" id="modal">
  <div class="wf">
    <div class="wf-h"><div><i class="fa-regular fa-window-maximize"></i> <span id="m-title">Wireframe</span></div>
      <button class="btn" id="m-close"><i class="fa-solid fa-xmark"></i></button></div>
    <div class="wf-body" id="m-body"></div>
  </div>
</div>
<script src="js/app.js"></script>
</body>
</html>
